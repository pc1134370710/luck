<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.hyt.dzht.mapper.HtMapper">


    <select id="getListHt" resultType="com.hyt.dzht.entity.Ht">
        SELECT *  FROM  ht
        	WHERE ( userEmail = #{email}
        	OR qsuserEmail =#{email} ) and is_del =0 and ((state=9 and userEmail = #{email})
        	or state!=9)   ORDER BY create_time DESC  LIMIT 0,10
    </select>

<!--    待我签的 数量 -->
    <select id="getDwCount" resultType="java.lang.Integer">
        select count(id) from ht where qsuserEmail=#{email} and state=0 and is_del =0
    </select>
    <!--    待发起 数量 -->
    <select id="getDfqCount" resultType="java.lang.Integer">
        select count(id) from ht where userEmail=#{email} and state=9 and is_del =0
    </select>
    <!--    待他人签的 数量 -->
    <select id="getTrCount" resultType="java.lang.Integer">
        select count(id) from ht where userEmail=#{email} and state=0 and is_del =0
    </select>
    <!--    已完成 数量 -->
    <select id="getWcCount" resultType="java.lang.Integer">
       select count(id) from ht where (userEmail=#{email} or qsuserEmail=#{email} )  and state=1 and is_del =0
    </select>

</mapper>
